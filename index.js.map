{"version":3,"file":"index.js","sources":["../src/js/utils/consts.js","../src/js/pixabay-api.js","../src/js/services/izitoast.js","../src/js/render-functions.js","../src/js/services/simplelightbox.js","../src/js/handlers/form.js","../src/main.js"],"sourcesContent":["const refs = {\n  searchForm: document.querySelector('.js-form'),\n  searchInput: document.querySelector('.js-search-input'),\n  loader: document.querySelector('.js-loader'),\n  gallery: document.querySelector('.js-gallery'),\n  loadMoreBtn: document.querySelector('.js-load-more-btn'),\n};\n\nconst ACTIVE_CLASS = 'active';\n\n\nexport { refs, ACTIVE_CLASS };","import axios from 'axios';\n\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '49309172-5f8130b15ef3c43c70e2ee30a';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal';\nconst SAFESEARCH = 'true';\n\nlet page = 1;\nlet per_page = 3;\n\nlet q = '';\n\n\nasync function getImages(query) {\n  console.log(query);\n\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: IMAGE_TYPE,\n    orientation: ORIENTATION,\n    safesearch: SAFESEARCH,\n    per_page,\n    page,\n  };\n\n  const response = await axios.get(BASE_URL, { params });\n  // q = query;\n  page += 1;\n\n  console.log(page);\n  return response.data;\n}\n\n\nexport { getImages, page, per_page, q, axios };","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst noFoundQuery = () => {\n  iziToast.error({\n    title: `❌ Please, enter a query!`,\n    message: '',\n    position: 'topRight',\n    color: 'red',\n    icon: \"\"\n  });\n};\n\nconst noFoundImages = () => {\n  iziToast.error({\n    title: `❌ Sorry, there are no images matching your search query. Please try again!`,\n    message: '',\n    position: 'topRight',\n    color: 'red',\n    icon: \"\"\n  });\n};\n\n\nexport {noFoundImages, noFoundQuery};","function createCardsMarkup(images) {\n  return images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<li class=\"gallery-card\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n        class=\"gallery-img\"\n        src=\"${webformatURL}\"\n        alt=\"${tags}\">\n        <div class=\"gallery-img-info\">\n          <ul class=\"gallery-img-info-card\">\n              <li class=\"info-card-title likes\">Likes</li>\n              <li class=\"info-card-value likes\">${likes}</li>\n          </ul>\n          <ul class=\"gallery-img-info-card\">\n              <li class=\"info-card-title likes\">Views</li>\n              <li class=\"info-card-value likes\">${views}</li>\n          </ul>\n          <ul class=\"gallery-img-info-card\">\n              <li class=\"info-card-title likes\">Comments</li>\n              <li class=\"info-card-value likes\">${comments}</li>\n          </ul>\n          <ul class=\"gallery-img-info-card\">\n              <li class=\"info-card-title likes\">Downloads</li>\n              <li class=\"info-card-value likes\">${downloads}</li>\n          </ul>\n        </div>\n      </a>\n    </li>`,\n    )\n    .join('');\n}\n\n\nexport { createCardsMarkup };","import SimpleLightbox from 'simplelightbox';\n\n\nconst lightBox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250});\n\n\nexport { lightBox }","import { getImages, q } from '../pixabay-api.js';\nimport { noFoundImages, noFoundQuery } from '../services/izitoast.js';\nimport { createCardsMarkup } from '../render-functions.js';\nimport { ACTIVE_CLASS, refs } from '../utils/consts.js';\nimport { lightBox } from '../services/simplelightbox.js';\n\n\nasync function handleSearch(event) {\n  event.preventDefault();\n\n  const loader = refs.loader;\n  const form = event.currentTarget;\n  const userQuery = form.elements.user_query.value.trim();\n\n  if (!userQuery) {\n    return noFoundQuery();\n  }\n\n  loader.classList.add(ACTIVE_CLASS);\n\n  try {\n    const images = await getImages(userQuery);\n    console.log(q);\n    loader.classList.remove(ACTIVE_CLASS);\n\n    if (!images.total) {\n      refs.gallery.innerHTML = '';\n      refs.loadMoreBtn.classList.remove(ACTIVE_CLASS);\n      return noFoundImages();\n    }\n\n    refs.gallery.innerHTML = createCardsMarkup(images.hits);\n    lightBox.refresh();\n    refs.loadMoreBtn.classList.add(ACTIVE_CLASS);\n    // loadMoreImages();\n\n\n  } catch (error) {\n    loader.classList.remove(ACTIVE_CLASS);\n    console.log(error);\n\n  } finally {\n    form.reset();\n  }\n}\n\nfunction loadMoreImages() {\n  // refs.gallery.insertAdjacentHTML('beforeend', createCardsMarkup(images.hits));\n  console.log('Hello!');\n}\n\n\nexport { handleSearch, loadMoreImages };","import { refs } from './js/utils/consts.js';\nimport { handleSearch, loadMoreImages } from './js/handlers/form.js';\n\n\nrefs.searchForm.addEventListener('submit', handleSearch);\n\nrefs.loadMoreBtn.addEventListener('click', loadMoreImages);"],"names":["refs","ACTIVE_CLASS","BASE_URL","API_KEY","IMAGE_TYPE","ORIENTATION","SAFESEARCH","page","per_page","q","getImages","query","params","response","axios","noFoundQuery","iziToast","noFoundImages","createCardsMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightBox","SimpleLightbox","handleSearch","event","loader","form","userQuery","error","loadMoreImages"],"mappings":"owBAAA,MAAMA,EAAO,CACX,WAAY,SAAS,cAAc,UAAU,EAC7C,YAAa,SAAS,cAAc,kBAAkB,EACtD,OAAQ,SAAS,cAAc,YAAY,EAC3C,QAAS,SAAS,cAAc,aAAa,EAC7C,YAAa,SAAS,cAAc,mBAAmB,CACzD,EAEMC,EAAe,SCLfC,EAAW,2BACXC,EAAU,qCACVC,EAAa,QACbC,EAAc,aACdC,EAAa,OAEnB,IAAIC,EAAO,EACPC,EAAW,EAEXC,EAAI,GAGR,eAAeC,EAAUC,EAAO,CAC9B,QAAQ,IAAIA,CAAK,EAEjB,MAAMC,EAAS,CACb,IAAKT,EACL,EAAGQ,EACH,WAAYP,EACZ,YAAaC,EACb,WAAYC,EACZ,SAAAE,EACA,KAAAD,CACJ,EAEQM,EAAW,MAAMC,EAAM,IAAIZ,EAAU,CAAE,OAAAU,CAAM,CAAE,EAErD,OAAAL,GAAQ,EAER,QAAQ,IAAIA,CAAI,EACTM,EAAS,IAClB,CC9BA,MAAME,EAAe,IAAM,CACzBC,EAAS,MAAM,CACb,MAAO,2BACP,QAAS,GACT,SAAU,WACV,MAAO,MACP,KAAM,EACV,CAAG,CACH,EAEMC,EAAgB,IAAM,CAC1BD,EAAS,MAAM,CACb,MAAO,6EACP,QAAS,GACT,SAAU,WACV,MAAO,MACP,KAAM,EACV,CAAG,CACH,ECtBA,SAASE,EAAkBC,EAAQ,CACjC,OAAOA,EACJ,IACC,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACvE;AAAA,sCAC8BL,CAAa;AAAA;AAAA;AAAA,eAGpCD,CAAY;AAAA,eACZE,CAAI;AAAA;AAAA;AAAA;AAAA,kDAI+BC,CAAK;AAAA;AAAA;AAAA;AAAA,kDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,kDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,kDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,UAKtD,EACA,KAAK,EAAE,CACZ,CC7BA,MAAMC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAAG,CAAC,ECEpB,eAAeC,EAAaC,EAAO,CACjCA,EAAM,eAAc,EAEpB,MAAMC,EAAS/B,EAAK,OACdgC,EAAOF,EAAM,cACbG,EAAYD,EAAK,SAAS,WAAW,MAAM,OAEjD,GAAI,CAACC,EACH,OAAOlB,EAAY,EAGrBgB,EAAO,UAAU,IAAI9B,CAAY,EAEjC,GAAI,CACF,MAAMkB,EAAS,MAAMT,EAAUuB,CAAS,EAIxC,GAHA,QAAQ,IAAIxB,CAAC,EACbsB,EAAO,UAAU,OAAO9B,CAAY,EAEhC,CAACkB,EAAO,MACV,OAAAnB,EAAK,QAAQ,UAAY,GACzBA,EAAK,YAAY,UAAU,OAAOC,CAAY,EACvCgB,EAAa,EAGtBjB,EAAK,QAAQ,UAAYkB,EAAkBC,EAAO,IAAI,EACtDQ,EAAS,QAAO,EAChB3B,EAAK,YAAY,UAAU,IAAIC,CAAY,CAI5C,OAAQiC,EAAO,CACdH,EAAO,UAAU,OAAO9B,CAAY,EACpC,QAAQ,IAAIiC,CAAK,CAErB,QAAY,CACRF,EAAK,MAAK,CACX,CACH,CAEA,SAASG,GAAiB,CAExB,QAAQ,IAAI,QAAQ,CACtB,CC7CAnC,EAAK,WAAW,iBAAiB,SAAU6B,CAAY,EAEvD7B,EAAK,YAAY,iBAAiB,QAASmC,CAAc"}